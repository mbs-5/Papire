# PAPIRE - PDF Summarizer

[![License](https://img.shields.io/badge/License-MIT-blue.svg)](https://opensource.org/licenses/MIT)

## Overview

PAPIRE is a Python-based application designed to streamline the process of summarizing PDF documents using Large Language Models (LLMs). It allows users to select a PDF file, apply a predefined prompt to guide the summarization, and choose an LLM from a configurable list. Summaries can be output in various formats, including Markdown, LaTeX, EPUB, DOCX, HTML, and plain text.

## Key Features

*   **PDF Selection:** Allows users to easily select PDF files from their local system.
*   **Prompt Selection:** Enables users to choose a prompt from a list pre-configured for different summarization styles. **Prompts are organized in language-specific directories and are only available when the corresponding language is selected in the interface.**
*   **LLM Selection:** Provides a dropdown list to select the desired LLM from a configurable list.
*   **Chapter-Based Summarization:** Generates summaries for individual chapters in a PDF document.
*   **Selective Chapter Processing:** Allows users to choose which chapters to include in the summarization process.
*   **Multi-Format Output:** Supports saving summaries in multiple formats: Markdown, LaTeX, EPUB, DOCX, HTML, and TXT.
*   **Customizable Settings:** Allows configuration of the OpenAI API key, path to the LLM models list, path to the prompts directory, output directory, and maximum tokens per chapter.
*   **Multi-Language Support:** Offers a translated user interface and supports different prompts based on the selected language.

## Project Structure
Use code with caution.

### Directory and File Descriptions:

*   **`assets/icons`**: Contains icons for the user interface.
*   **`assets/lang`**: Includes JSON files for UI translations; each file corresponds to a different language.
*   **`assets/llms`**: Stores a text file (`openai.txt`) with a list of available LLMs.
*   **`assets/prompts`**: Contains language-specific subdirectories (e.g., `espa√±ol`) with `.txt` files for prompts used by the application. **Prompts are only available for the currently selected language, and can be added, erased, or modified**
*   **`outputs`**: Holds the output generated by the application. By default, output files are saved in a subdirectory named after the input PDF.
*   **`src`**: Contains the application's source code.
    *   `config_manager.py`: Manages the application's configuration settings.
    *   `file_converter.py`: Handles file conversion between different formats (HTML, DOCX, LaTeX, PDF, EPUB, etc.).
    *   `gui.py`: Creates and manages the graphical user interface.
    *   `openai_handler.py`: Manages interactions with the OpenAI API.
    *   `pdf_handler.py`: Manages the extraction of text from PDF files.
    *   `utils.py`: Includes utility functions for the application.

## Getting Started

### Prerequisites

*   Python 3.7 or higher. https://www.python.org/downloads/
*   Pandoc installed and accessible in your system's PATH. [https://pandoc.org/installing.html](https://pandoc.org/installing.html)
*   An OpenAI API Key. https://platform.openai.com/api-keys
*   Required Python libraries: `openai`, `pillow`, `PyMuPDF`, `reportlab`, `markdown`, `beautifulsoup`.

### Quick Installation

For a quick and easy setup, use the `install_requirements_and_env.bat` (Windows) script, which will install the required libraries, pandoc, and configure the necessary environment.

### Manual Installation

If you prefer to install manually, follow these steps:

1.  **Clone the Repository:**
    ```bash
    git clone https://github.com/mbs-5/Papire.git
    cd papire
    ```
2.  **Install Dependencies:**
    ```bash
    pip install -r requirements.txt
    ```
3.  **Run the Application:**
    ```bash
    python main.py
    ```

## Usage Instructions

1.  **Initial Configuration:**
    *   Launch the application with papire.bat (change the language if needed and add a prompt to the prompts/language/ folder).
    *   Navigate to "Settings" (gear icon) and configure:
        *   Your OpenAI API key.
        *   The desired output directory (outputs/ by default).
        *   Maximum tokens per chapter (default is 10000).
    *   Save the settings.
2.  **Application Use:**
    *   Select a PDF file using the "Select PDF" button.
    *   Choose a prompt from the dropdown below the PDF selector. **Note that available prompts depend on the selected UI language.**
    *   Choose an LLM from the dropdown below the prompt selector (gpt-40-mini by default, due to its price-quality).
    *   Select the desired output formats.
    *   Optionally, uncheck chapters you don't want to summarize (if a table of contents exists).
    *   Click "Process PDF" to begin the summarization.
3.  **Output:**
    *   Summaries will be saved in a folder named after the PDF in the configured output directory.
